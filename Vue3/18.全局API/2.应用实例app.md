# 应用实例 API

## createApp()

创建一个应用实例

## createSSRApp()

创建 SSR 模式的应用实例(和 createApp() 用法完全一致)

## app.mount()

将应用挂载在一个容器元素中

```ts
interface App {
  mount(rootContainer: Element | string): ComponentPublicInstance;
}
```

`String`类型时需要是`css选择器` (这里 Vue2 是 ID 选择器)

## app.unmount()

卸载一个已挂载的应用实例. 卸载一个应用会触发该应用组件树内所有组件的卸载声明周期钩子

## app.provide()

提供一个应用级别的注入

```ts
interface App {
  provide<T>(key: InjectionKey<T> | symbol | string, value: T): this;
}
```

第一个参数是 key(字符串或 symbol), 第二个是值

## app.component()

注册/得到 一个应用层的组件

```js
import { createApp } from 'vue';

const app = createApp({});

// 注册一个选项对象
app.component('my-component', {
  /* ... */
});

// 得到一个已注册的组件
const MyComponent = app.component('my-component');
```

## app.directive

注册/得到 一个全局指令

```js
import { createApp } from 'vue';

const app = createApp({
  /* ... */
});

// 注册（对象形式的指令）
app.directive('my-directive', {
  /* 自定义指令钩子 */
});

// 注册（函数形式的指令）
app.directive('my-directive', () => {
  /* ... */
});

// 得到一个已注册的指令
const myDirective = app.directive('my-directive');
```

## app.use()

注册一个插件

## app.mixin()

Vue3 中不推荐使用`mixins`了`, 保留只是为了向后兼容

## app.version

## app.config

每个应用实例都会暴露一个 config 对象，其中包含了对这个应用的配置设定。你可以在挂载应用前更改这些属性

### app.config.errorhandler

为应用内抛出的未捕获错误指定一个全局处理函数

```ts
interface AppConfig {
  errorHandler?: (
    err: unknown,
    instance: ComponentPublicInstance | null,
    // `info` 是一个 Vue 特定的错误信息
    // 例如：错误是在哪个生命周期的钩子上抛出的
    info: string
  ) => void;
}
```


