# 事件

Vue 事件和原生 DOM 事件是不一样的, 组件触发的事件没有冒泡机制. 只能监听直接子组件触发的事件, 平级组件或是跨多层嵌套组件通信, 应该使用一个`外部总线`或一个`全局状态管理`

## 事件参数

`$emit()`中可以传入任意数量参数

## 事件声明

通过`emits`选项配置事件的声明

```js
export default {
  emits: ['inFocus', 'submit'],
};
```

### 事件校验

允许`emits`传入一个对象,事件可以被赋值为一个函数，接受的参数就是抛出事件时传入 this.$emit 的内容，返回一个布尔值来表明事件是否合法。

用于检测 `$emit`传入的数据是否合法

```js
export default {
  emits: {
    // 没有校验
    click: null,

    // 校验 submit 事件
    submit: ({ email, password }) => {
      if (email && password) {
        return true;
      } else {
        console.warn('Invalid submit event payload!');
        return false;
      }
    },
  },
  methods: {
    submitForm(email, password) {
      this.$emit('submit', { email, password });
    },
  },
};
```

