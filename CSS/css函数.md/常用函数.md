# 常用函数

## attr

> 注意这个属性目前一般用于 `content` 属性, 虽然它可以用于任何 css 属性, 但是对单位的支持还属于实验性阶段

这个函数用于找到当前元素上的属性值并在样式表中使用, 并且可用于伪元素, 此时会从伪元素的原始元素上查找属性值.

```css
blockquote::after {
  display: block;
  content: ' (source: ' attr(cite) ') ';
  color: hotpink;
}
```

## calc

这个函数可以对 css 属性值执行数学运算. 包括 `<length>` `<angle>` `<number>` `<percentage>` 等等

```css
/* 注意数学符号两边要有空格 */
width: calc(50% - 60px);
```

允许的数学运算 `+ - * /`

## clamp

用于限制范围。

`clamp(min, val, max)` 接受三个值, 单`val` 大于`max`时取`max`值, 当`val`小于`min`时取`min`值

等同于 `max(MIN, min(VAL, MAX))`

一般用作响应式控制中.

```css
font-size: clamp(16px, 3em, 40px);
```

## env

用于将`用户代理`定义的环境变量插入到 css 中.

最主要的作用就时通过`env()`函数获取浏览器定义的变量, 将内容放在视口的安全区域.

在 ios 或某些安卓设备中, 底部会有控制条, 这中控制条会可能会遮挡住页面中位于底部的按钮. 使用`env()`获取浏览器提供的数据来确保页面显示在安全区域.

```css
/* Using the four safe area inset values with no fallback values */

/* 这些就是浏览器提供的安全视口范围值, 表示安全视口的 top, right, bottom, left 值 */
env(safe-area-inset-top);
env(safe-area-inset-right);
env(safe-area-inset-bottom);
env(safe-area-inset-left);

/* Using them with fallback values */
/* 可以填入一个备用值, 在环境变量不存在时使用备用值 */
env(safe-area-inset-top, 20px);
env(safe-area-inset-right, 1em);
env(safe-area-inset-bottom, 0.5vh);
env(safe-area-inset-left, 1.4rem);
```

使用 `env()` 确保内容不会被桌面`pwa`中的窗口控制按钮遮挡

在 `pwa`应用中, `titlebar-area-*`值定义了一个通常显示标题栏的矩形

[具体查看 mdn](https://developer.mozilla.org/en-US/docs/Web/CSS/env)

```css
header {
  position: fixed;
  left: env(titlebar-area-x);
  top: env(titlebar-area-y);
  width: env(titlebar-area-width);
  height: env(titlebar-area-height);
}

main {
  margin-top: env(titlebar-area-height);
}
```

## min max

## minmax

和 `grid` 一起使用, 用于限制网格的最大和最小值.

## path

和 `clip-path` 一起使用, `path` 方法接受一个 svg 路径, 可用于自定义的路径裁剪.

## repeat

和 `grid` 一起使用, 用于设置网格的重复次数

## url

可以是 `绝对url` `相对url` `blob url` `data url`

## var

获取自定义属性值

- 只能用于属性值, 不能用于属性名称或选择器
- 可以定义回退值 `var(--foo, red, blue)`, `red, blue` 是一个完整的回退值, 这个需要注意


