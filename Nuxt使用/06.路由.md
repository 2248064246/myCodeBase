# 路由

Nuxt 最核心的特点之一就是文件系统的路由

就是在 `pages` 下的文件都会生成对应的路由

## 导航

通过 `<NuxtLink>` 组件可以导航到对应页面 (这个和 Vue 的`<RouteLink>` 很像)

## 路由参数

可以通过 `useRoute()` 方法在 Vue 组件中访问当前路由详情

```html
<script setup>
  const route = useRoute();

  // When accessing /posts/1, route.params.id will be 1
  console.log(route.params.id);
</script>
```

## 路由中间件

Nuxt 提供了一个可自定义的路由中间件框架，您可以在整个应用程序中使用，非常适合在导航到特定路由之前提取要运行的代码。

> 注意: 这个路由中间件是运行在 Vue 里面的

Nuxt 中有三种路由中间件

1. 匿名(或内联)路由中间件，直接在使用它们的页面中定义
2. 命名路由中间件，放置在 middleware/目录中，在页面上使用时会通过异步导入自动加载。(注意:路由中间件名称被规范化为串串格式，因此 someMiddleware 变成了 some-middleware。)
3. 全局路由中间件，放置在 middleware/目录中(后缀为.global)，在每次路由更改时自动运行。

使用方法

在 `middleware/auth.ts` 中

```ts
export default defineNuxtRouteMiddleware((to, from) => {
  // isAuthenticated() is an example method verifying if an user is authenticated
  if (isAuthenticated() === false) {
    return navigateTo('/login');
  }
});
```

在 `pages/dashboard.vue` 中

```html
<script setup>
  definePageMeta({
    middleware: 'auth',
  });
</script>

<template>
  <h1>Welcome to your dashboard</h1>
</template>
```
