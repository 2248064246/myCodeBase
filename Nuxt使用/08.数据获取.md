# 数据获取

Nuxt 提供 `useFetch()`, `useLazyFetch()`, `useAsyncData()` 和 `useLazyAsyncData()` 这几个方法来在应用中获取数据

这几个方法只工作在`setup` 期间

## useFetch

可以通过 `url` 获取数据. 返回一个 promise

## useLazyFetch

这等同于`useFetch` 使用 `lazy: true` 属性.

是同步返回数据.

需要处理数据返回为空的情况

```html
<template>
  <!-- you'll need to handle a loading state -->
  <div v-if="pending">Loading ...</div>
  <div v-else>
    <div v-for="post in posts">
      <!-- do something -->
    </div>
  </div>
</template>

<script setup>
  const { pending, data: posts } = useLazyFetch('/api/posts');

  /* 需要手动watch */
  watch(posts, (newPosts) => {
    // Because posts starts out null, you won't have access
    // to its contents immediately, but you can watch it.
  });
</script>
```

## useAsyncData

一个灵活的异步数据获取方法, 它可以获取来自 api 的数据, 也可以获取来自文件的数据. 返回一个 promise

`useAsyncFetch()` 等同于 `useAsyncData(url, () => $fetch(url))`

```js
const { data, pending, error, refresh } = await useAsyncData('mountains', () =>
  $fetch('https://api.nuxtjs.dev/mountains')
);
```


## useLazyAsyncData

这是是 `useAsyncData` 使用 `lazy: true` 配置

返回同步数据

